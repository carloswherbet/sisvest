CREATE TABLE CURSO (id_curso INT AUTO_INCREMENT, nm_curso VARCHAR(255) NOT NULL, te_cargahoraria VARCHAR(10), sg_flag CHAR(2), PRIMARY KEY(id_curso)) ENGINE = INNODB;
CREATE TABLE INSCRICAO (id_inscricao INT AUTO_INCREMENT, id_vestibular_curso INT, id_sala INT, nm_vestibulando VARCHAR(150) NOT NULL, te_endereco VARCHAR(200), nu_numero INT, nu_cpf CHAR(11), te_complemento VARCHAR(255), te_bairro VARCHAR(100), sg_estado CHAR(2), te_cidade VARCHAR(100), nu_fone VARCHAR(12), te_resultado CHAR(1), nu_pontuacao FLOAT(18, 2), dt_inscricao DATE NOT NULL, INDEX id_sala_idx (id_sala), INDEX id_vestibular_curso_idx (id_vestibular_curso), PRIMARY KEY(id_inscricao)) ENGINE = INNODB;
CREATE TABLE INSTITUICAO (id_instituicao INT AUTO_INCREMENT, nm_instituicao VARCHAR(255) NOT NULL, te_endereco VARCHAR(255), nu_numero INT, te_complemento VARCHAR(255), te_bairro VARCHAR(255), te_cidade VARCHAR(255), sg_estado CHAR(2), nu_cnpj VARCHAR(20), nu_fone VARCHAR(15), PRIMARY KEY(id_instituicao)) ENGINE = INNODB;
CREATE TABLE SALA (id_sala INT AUTO_INCREMENT, nm_sala VARCHAR(100) NOT NULL, qt_max_suportada INT NOT NULL, PRIMARY KEY(id_sala)) ENGINE = INNODB;
CREATE TABLE VESTIBULAR (id_vestibular INT AUTO_INCREMENT, te_periodo VARCHAR(10) NOT NULL, te_horario VARCHAR(10) NOT NULL, dt_vestibular DATE NOT NULL, sg_situacao CHAR(2), sg_flag CHAR(2), PRIMARY KEY(id_vestibular)) ENGINE = INNODB;
CREATE TABLE VESTIBULARCURSO (id_vestibular_curso INT AUTO_INCREMENT, id_vestibular INT NOT NULL, id_curso INT NOT NULL, nu_concorrencia FLOAT(18, 2), qt_vagas INT, nu_pontuacao FLOAT(18, 2), nu_inscritos INT, INDEX id_vestibular_idx (id_vestibular), INDEX id_curso_idx (id_curso), PRIMARY KEY(id_vestibular_curso)) ENGINE = INNODB;
ALTER TABLE INSCRICAO ADD CONSTRAINT IiVi FOREIGN KEY (id_vestibular_curso) REFERENCES VESTIBULARCURSO(id_vestibular_curso) ON DELETE CASCADE;
ALTER TABLE INSCRICAO ADD CONSTRAINT INSCRICAO_id_sala_SALA_id_sala FOREIGN KEY (id_sala) REFERENCES SALA(id_sala) ON DELETE CASCADE;
ALTER TABLE VESTIBULARCURSO ADD CONSTRAINT VESTIBULARCURSO_id_vestibular_VESTIBULAR_id_vestibular FOREIGN KEY (id_vestibular) REFERENCES VESTIBULAR(id_vestibular) ON DELETE CASCADE;
ALTER TABLE VESTIBULARCURSO ADD CONSTRAINT VESTIBULARCURSO_id_curso_CURSO_id_curso FOREIGN KEY (id_curso) REFERENCES CURSO(id_curso) ON DELETE CASCADE;
